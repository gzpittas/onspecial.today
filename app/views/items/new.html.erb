<% content_for :title, "New Item" %>

<div class="container mt-5">
  <div class="bg-light p-5 rounded-3 mb-4 shadow">
    <h1 class="mb-4">New Item</h1>
    <%= form_with(model: @item, class: "edit-item-form") do |form| %>
      
      <% if @item.errors.any? %>
        <div class="alert alert-danger">
          <h2><%= pluralize(@item.errors.count, "error") %> prohibited saving:</h2>
          <ul>
            <% @item.errors.each do |error| %>
              <li><%= error.full_message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="row mb-3">
        <div class="col-md-6">
          <%= form.label :name, class: "form-label" %>
          <%= form.text_field :name, 
              class: "form-control form-control-lg", 
              autofocus: true,
              maxlength: 100,
              placeholder: "Enter item name" %>
          <small class="text-muted">Maximum 100 characters</small>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col">
          <%= form.label :description, class: "form-label" %>
          <%= form.text_area :description, 
              class: "form-control", 
              rows: 3,
              maxlength: 500,
              placeholder: "Enter item description" %>
          <small class="text-muted">Maximum 500 characters</small>
        </div>
      </div>

      <div class="d-flex gap-4">
        <%= form.submit "Create Item", class: "btn btn-warning" %>
        <%= link_to "Back to Items", items_path, 
                    class: "btn btn-outline-secondary px-4",
                    data: { confirm: "Are you sure you want to cancel? Any unsaved changes will be lost." } %>
      </div>
    <% end %>
  </div>
</div>
